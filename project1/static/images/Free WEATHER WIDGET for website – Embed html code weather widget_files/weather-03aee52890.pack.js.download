function init_weather_getcode_dialog_post(e){var s=$("#bf_dialog");s.size()||(22==booked.weather.langid||25==booked.weather.langid?$("body").append('<div id="bf_dialog" class="right-to-left-content"><div class="book100pop"></div></div>'):$("body").append('<div id="bf_dialog"><div class="book100pop"></div></div>'),s=$("#bf_dialog")),$(s).on("click","#mw-btn",function(){$(this).toggleClass("hide-winers"),$(".hide-row").toggle()}),$(s).on("click",".book100-nav a",function(){var e=$(this).attr("id");return $(".book100-nav a").removeClass("curr"),$(this).addClass("curr"),$(".book100pop-deck").hide(),$("#"+e+"_tab").show(),!1}),$(s).on("click","#ef_bestrates_add",function(){return $(".book100-nav a").removeClass("curr"),$("#ef_bestrates").addClass("curr"),$(".book100pop-deck").hide(),$("#ef_bestrates_tab").show(),!1}),$(s).on("click","#dlg_close",function(){return s.dialog("close"),s.hide(),!1}),$(".weather-page").on("click",".js-get-code",function(){var e=$(this).attr("id");"weather_widgets"===booked.weather.page&&weather_widget_event(e,"-get-code")}),$(".weather-page").on("click",".js-get-code",function(){refresh_weather_widgets();var e=$(this).attr("id").split("_");if(""!=e){var t=e[1],i="0";2<e.length&&(i=e[2]);var o="";return $(".select-city").each(function(){var e="";0<$(this).attr("name").length&&void 0!==(e=$(this).attr("name").split("_")[1])&&0<e.length&&(0<o.length&&(o+=","),o+=e)}),""==o&&(o=booked.weather_opts.cityid),s.load("/?page=weather_widget_code_dialog&cityid="+o+"&type="+t+"&gparams="+i+"&anc_id="+booked.weather.anc_id,"",function(){var e=$(window).height()-150;400<e&&(e=400),$("#bf_dialog .legal-info").height(e),s.show(),s.dialog("open"),s.one("copy","#widget_code_output",function(){var e="getCode_"+t;"0"!=i&&(e+="_"+i),"weather_widgets"===booked.weather.page?weather_widget_event(e,"-copied-main"):"weather_widget_customize"===booked.weather.page&&("0"==i&&"0"!=(i=$("#js_gparams").val())&&(e+="_"+i),weather_widget_event(e,"-copied-single"))})}),!1}}),s.dialog({modal:!0,resizable:!1,draggable:!1,title:!1,dialogClass:"ui-own-dialog",width:720,height:"auto",overlay:{opacity:.3,background:"black"}}),$(e.target).trigger(e.type)}function weather_widget_event(e,t){track_event("Weather",{getCode_1:"widget-w_1",getCode_3:"widget-w_2",getCode_4:"widget-w_3",getCode_2:"widget-w_4",getCode_26_26:"widget-w_5",getCode_30_30:"widget-w_6",getCode_31_31:"widget-w_7",getCode_25_25:"widget-w_8",getCode_28_28:"widget-w_9",getCode_32_32:"widget-w_10",getCode_23_23:"widget-w_11",getCode_21_21:"widget-w_12",getCode_11_1:"widget-w_13",getCode_11_2:"widget-w_14",getCode_11_3:"widget-w_15",getCode_14_4:"widget-w_16",getCode_12_5:"widget-w_17",getCode_13_6:"widget-w_18"}[e]+t)}function init_weather_getcode_dialog(){$(".weather-page").one("click",".js-get-code",function(e){$.ui&&$.ui.dialog?init_weather_getcode_dialog_post(e):yepnope({load:booked.packs.dialog,complete:function(){init_weather_getcode_dialog_post(e),reinit_autocomplete_post()}})})}function initChangeInput(i,o){i.on("change",function(){var e=$(this).val(),t=[o.slider("option","min"),o.slider("option","max")];t[0]<=e&&e<=t[1]||(e=t[0]),i.val(e),o.slider("option","value",e),booked.weather.wwidth=e,refresh_weather_widgets()})}function init_weather(e){booked.weather=e,booked.weather.loaded_data_xml="",booked.weather.cityCount=1,booked.weather.elementIndex=1,reinit_autocomplete(),"weather_city_forecast"===e.page&&($(".weather-add-weather").on("click",".js-getcode-1",function(){track_event("Weather","widget-w_1-customize-citypage")}),$(".weather-add-weather").on("click",".js-getcode-4",function(){track_event("Weather","widget-w_2-customize-citypage")}),$(".weather-add-weather").on("click","#more_widgets",function(){track_event("Weather","widget-w_getwidgets")})),$(".availbox").on("submit",function(){track_event("Weather","widget-w_hotelsearch")}),$("body").on("click",".add-city",function(){booked.weather.cityCount<10&&($("#city-deck").append('<div class="city-added" id="weather-city-'+booked.weather.cityCount+'"><input type="text" name="" class="select-city" id="select_city_'+booked.weather.cityCount+'" /><div class="remove-city" id="remove-city-'+booked.weather.cityCount+'"></div></div>'),booked.weather.cityCount++,reinit_autocomplete())}),$("body").on("click",".add-city2",function(){booked.weather.cityCount<10&&($("#city-deck").append('<div id="weather-city-'+booked.weather.elementIndex+'"><input type="text" name="" class="select-city" id="select_city_'+booked.weather.elementIndex+'" /><span class="add-city2"></span> <span class="remove-city2" id="remove-city-'+booked.weather.elementIndex+'"></span></div>'),booked.weather.cityCount++,booked.weather.elementIndex++,$(".remove-city2").show(),reinit_autocomplete())});var t=$(".widget-width");if(t.size()){var i=$("#widget-width-field");t.slider({min:160,max:350,value:booked.weather.wwidth,slide:function(e,t){i.val(t.value),$(".weather-customize").width(t.value),$(".booked-weather-custom-160").width(t.value),t.value<230?$(".booked-weather-custom-160").attr("id","width1"):t.value<245?$(".booked-weather-custom-160").attr("id","width2"):t.value<295?$(".booked-weather-custom-160").attr("id","width3"):t.value<310?$(".booked-weather-custom-160").attr("id","width4"):$(".booked-weather-custom-160").attr("id","width5")},stop:function(e,t){booked.weather.wwidth=t.value,refresh_weather_widgets()}}),initChangeInput(i,t)}var o=$(".widget-width-t1");if(o.size()){i=$("#widget-width-field");o.slider({min:160,max:320,value:booked.weather.wwidth,slide:function(e,t){i.val(t.value),$(".weather-customize").width(t.value),$(".booked-wzs-160-110").width(t.value),t.value<180?$(".booked-wzs-160-110").attr("id","width1"):t.value<220?$(".booked-wzs-160-110").attr("id","width2"):t.value<305?$(".booked-wzs-160-110").attr("id","width3"):$(".booked-wzs-160-110").attr("id","width4")},stop:function(e,t){booked.weather.wwidth=t.value,refresh_weather_widgets()}}),initChangeInput(i,o)}var s=$(".widget-width-t3");if(s.size()){i=$("#widget-width-field");s.slider({min:250,max:430,value:booked.weather.wwidth,slide:function(e,t){i.val(t.value),$(".weather-customize").width(t.value),$(".booked-wzs-250-175").width(t.value),t.value<320?$(".booked-wzs-250-175").attr("id","width1"):t.value<375?$(".booked-wzs-250-175").attr("id","width2"):$(".booked-wzs-250-175").attr("id","width3")},stop:function(e,t){booked.weather.wwidth=t.value,refresh_weather_widgets()}}),initChangeInput(i,s)}var a=$(".widget-width-t4");if(a.size()){i=$("#widget-width-field");a.slider({min:160,max:350,value:booked.weather.wwidth,slide:function(e,t){i.val(t.value),$(".weather-customize").width(t.value),$(".booked-wzs-160-275").width(t.value),t.value<180?$(".booked-wzs-160-275").attr("id","width1"):t.value<220?$(".booked-wzs-160-275").attr("id","width2"):t.value<305?$(".booked-wzs-160-275").attr("id","width3"):$(".booked-wzs-160-275").attr("id","width4")},stop:function(e,t){booked.weather.wwidth=t.value,refresh_weather_widgets()}}),initChangeInput(i,a)}var n=$(".small-widget-width");n.size()&&n.slider({min:98,max:160,value:booked.weather.wwidth,slide:function(e,t){$("#widget-width-field").val(t.value),$(".weather-customize").width(t.value),$(".booked-weather-120x100").width(t.value)},stop:function(e,t){booked.weather.wwidth=t.value,refresh_weather_widgets()}}),$("body").on("click",".remove-city",function(){var e=$(this).attr("id").split("-")[2];$("#weather-city-"+e).remove(),--booked.weather.cityCount,refresh_weather_widgets()}),$("body").on("click",".remove-city2",function(){var e=$(this).attr("id").split("-")[2];check_cities(e)&&(2==booked.weather.cityCount&&$(".remove-city2").hide(),$("#weather-city-"+e).remove(),--booked.weather.cityCount,refresh_weather_widgets())}),$(".choose_weather_lang").on("change",function(e){var t=$(".choose_weather_lang option:selected").val();t&&(booked.weather.wlangid=t,booked.weather.domid="","weather_widget_customize"==booked.weather.page&&refresh_weather_widgets())}),$("body").on("click","a.change_metric",function(){var e=$(this).text(),t=$(this).parent("li"),i=$(t).attr("id").split("_")[2],o="";"1"===i?(o="0",booked.weather.cmetric="1"):(o="1",booked.weather.cmetric="0"),$(t).html(e);var s=$("#change_metric_"+o).text();$("#change_metric_"+o).html('<a href="#" class="change_metric">'+s+"</a>"),$("#days-weather7-"+o).addClass("hidden"),$("#days-weather7-"+i).removeClass("hidden"),$("#booked-bl-simple-"+o).addClass("hidden"),$("#booked-bl-simple-"+i).removeClass("hidden"),$("#booked-bl-simple-week-vertical-"+o).addClass("hidden"),$("#booked-bl-simple-week-vertical-"+i).removeClass("hidden"),$("a.getCode").each(function(){var e=$(this).attr("href");e=(e=e.replace(/&cmetric=[\d]+/g,""))+"&cmetric="+booked.weather.cmetric,$(this).attr("href",e)});var a=$("#more_widgets").attr("href");a=(a=a.replace(/\?cmetric=[\d]+/g,""))+"?cmetric="+booked.weather.cmetric,$("#more_widgets").attr("href",a)}),$("input.degreeType").bind("click",function(){var e=$(this).attr("id").split("_")[1];booked.weather.cmetric=e,refresh_weather_widgets()}),$("input.borderForm").bind("click",function(){var e=$(this).attr("id").split("_")[1];$("input.borderForm2").prop("checked")?("0"==e&&(booked.weather.border_form="3"),"1"==e&&(booked.weather.border_form="2")):booked.weather.border_form=e,refresh_weather_widgets()}),$("input.borderForm2").bind("click",function(){var e=$(this).prop("checked"),t=booked.weather.border_form;e?("0"==t&&(booked.weather.border_form="3"),"1"==t&&(booked.weather.border_form="2")):("3"==t&&(booked.weather.border_form="0"),"2"==t&&(booked.weather.border_form="1")),refresh_weather_widgets()}),$("input.themeTransparent").bind("click",function(){var e=$(this).prop("checked");booked.weather.transparent=e?"1":"0",refresh_weather_widgets()}),$(".color-theme").bind("click",function(){var e=$(this).attr("id").split("_")[1];booked.weather.color=e,refresh_weather_widgets()}),$(".lite-color-theme").bind("click",function(){var e=$(this).attr("id").split("_")[1];booked.weather.color=e.split("-")[0],booked.weather.header_color=e.split("-")[1],booked.weather.text_color=e.split("-")[2],refresh_weather_widgets()}),init_weather_getcode_dialog(),$(".colorSelector").on("click",function(){$(".colorSelector").attr("sel",""),$(this).attr("sel","on")}).ColorPicker({color:"#0000ff",onBeforeShow:function(){$(this).ColorPickerSetColor($(this).closest(".colorSelector").find("input").val())},onShow:function(e){return $(e).fadeIn(500),!1},onHide:function(e){return $(e).fadeOut(500),!1},onChange:function(e,t,i,o){$(this).parent().find('div[sel="on"] div').css("backgroundColor","#"+t),$(this).parent().find('div[sel="on"] input').val(t);var s=$(this).parent().find('div[sel="on"] input').attr("id");"theme_color"==s?(booked.weather.color=t,$(".weather-160").css("background","#"+t+" url(/images/we160x110.png) no-repeat"),$(".weather-250-deck").css("background","#"+t+" url(/images/weather/we250x175.png) no-repeat"),$(".weather-160v").css("background","#"+t+" url(/images/weather/we160x275.png) no-repeat"),$(".booked-wzs-160-110").css("background-color","#"+t),$(".booked-wzs-250-175").css("background-color","#"+t),$(".booked-wzs-160-275").css("background-color","#"+t),"0"==booked.weather.transparent&&($(".booked-weather-120x100").css("background-color","#"+t),$(".booked-weather-120x36").css("background-color","#"+t),$(".booked-weather-160x36").css("background-color","#"+t),$(".booked-weather-120-100s").css("background-color","#"+t),$(".booked-weather-100-100s").css("background-color","#"+t))):"header_color"==s?(booked.weather.header_color=t,"0"==booked.weather.transparent&&($(".booked-weather-120x100-city").css("background-color","#"+t),$(".booked-weather-120x36-city").css("background-color","#"+t),$(".booked-weather-160x36-city").css("background-color","#"+t),$(".booked-weather-120-100s-city").css("background-color","#"+t),$(".booked-weather-100-100s-city").css("background-color","#"+t))):"text_color"==s?(booked.weather.text_color=t,$(".booked-weather-120x100").css("color","#"+t),$(".booked-weather-120x36").css("color","#"+t),$(".booked-weather-160x36").css("color","#"+t),$(".booked-weather-120-100s").css("color","#"+t),$(".booked-weather-100-100s").css("color","#"+t)):"link_color"==s?(booked.weather.link_color=t,$(".booked-weather-120x100-city").css("color","#"+t),$(".booked-weather-120x36-city").css("color","#"+t),$(".booked-weather-160x36-city").css("color","#"+t),$(".booked-weather-120-100s-city").css("color","#"+t),$(".booked-weather-100-100s-city").css("color","#"+t)):"footer_color"==s?(booked.weather.footer_color=t,"0"==booked.weather.transparent&&($(".booked-weather-120x100-date").css("background-color","#"+t),$(".booked-weather-100-100s-date").css("background-color","#"+t))):"footer_text_color"==s?(booked.weather.footer_text_color=t,$(".booked-weather-120x100-date").css("color","#"+t),$(".booked-weather-100-100s-date").css("color","#"+t)):"theme_all_color"==s?(booked.weather.color=booked.weather.header_color=booked.weather.footer_color=t,"0"==booked.weather.transparent&&($(".booked-weather-120x100, .booked-weather-120x100-city, .booked-weather-120x100-date").css("background-color","#"+t),$(".booked-weather-120x36").css("background-color","#"+t),$(".booked-weather-160x36").css("background-color","#"+t),$(".booked-weather-120-100s, .booked-weather-120-100s-city, .booked-weather-120-100s-date").css("background-color","#"+t),$(".booked-weather-100-100s, .booked-weather-100-100s-city, .booked-weather-100-100s-date").css("background-color","#"+t))):"theme_nolink_color"==s?(booked.weather.color=booked.weather.footer_color=t,"0"==booked.weather.transparent&&($(".booked-weather-120x100, .booked-weather-120x100-date").css("background-color","#"+t),$(".booked-weather-120x36").css("background-color","#"+t),$(".booked-weather-160x36").css("background-color","#"+t),$(".booked-weather-120-100s, .booked-weather-120-100s-date").css("background-color","#"+t),$(".booked-weather-100-100s, .booked-weather-100-100s-date").css("background-color","#"+t))):"text_nolink_color"==s&&(booked.weather.text_color=booked.weather.footer_text_color=t,$(".booked-weather-120x100, .booked-weather-120x100-date").css("color","#"+t),$(".booked-weather-120x36").css("color","#"+t),$(".booked-weather-160x36").css("color","#"+t),$(".booked-weather-120-100s, .booked-weather-120-100s-date").css("color","#"+t),$(".booked-weather-100-100s, .booked-weather-100-100s-date").css("color","#"+t))},onSubmit:function(e,t,i,o){$(o).ColorPickerHide()}}),changeWeatherLocation(),setCustomize()}function reinit_autocomplete_post(){$.widget("custom.citycomplete",$.ui.autocomplete,{_renderItem:function(e,t){var i="<a><b>"+t.label+"</b>";return t.state&&(i+=", "+t.state),t.country&&(i+=", "+t.country),i+="</a>",$("<li></li>").data("item.autocomplete",t).append(i).appendTo(e)}}),$(".select-city, .js-change-city").each(function(){$(this).citycomplete({source:function(e,t){$.ajax({url:"/",dataType:"json",data:{page:"weather_cities_json",q:e.term,langID:booked.weather.langid},success:function(e){t($.map(e.results,function(e){return{label:e.n,value:e.n,state:e.s,count:e.cnt,country:e.c,id:e.id}}))}})},select:function(e,t){var i=$(e.target),o=t.item.id;i.hasClass("js-change-city")?window.location="/widgets/weather?cityid="+o:(i.attr("name","WeatherCity_"+o),refresh_weather_widgets())},delay:100,minLength:2,width:300})})}function reinit_autocomplete(){$.ui&&$.ui.autocomplete?reinit_autocomplete_post():$(".select-city, .js-change-city").off("click keypress").one("click keypress",function(e){var t=$(this);yepnope({load:booked.packs.dialog,complete:function(){reinit_autocomplete_post(),t.trigger(e.type)}})})}function refresh_weather_widgets(){$("#widget_code_output").hasClass("hidden")||$("#widget_code_output").addClass("hidden"),$("#widget_code_output_img").hasClass("hidden")||$("#widget_code_output_img").addClass("hidden");var t="";$(".select-city").each(function(){var e="";0<$(this).attr("name").length&&void 0!==(e=$(this).attr("name").split("_")[1])&&0<e.length&&(0<t.length&&(t+=","),t+=e)}),""==t&&(t=booked.weather_opts.cityid),$("body").append('<script type="text/javascript" src=\''+booked.weather.widgets_site_url+"/weather/info?action=get_weather_info&ver=6&cityID="+t+"&type="+booked.weather.widget_type+"&cmetric="+booked.weather.cmetric+"&wlangID="+booked.weather.wlangid+"&color="+booked.weather.color+"&wwidth="+booked.weather.wwidth+"&header_color="+booked.weather.header_color+"&text_color="+booked.weather.text_color+"&link_color="+booked.weather.link_color+"&border_form="+booked.weather.border_form+"&footer_color="+booked.weather.footer_color+"&footer_text_color="+booked.weather.footer_text_color+"&transparent="+booked.weather.transparent+"&domid="+booked.weather.domid+"&anc_id="+booked.weather.anc_id+"&ltid="+booked.weather.ltid+"&is_need_source=1' />")}function check_cities(t){var i="";return $(".select-city").each(function(){var e="";0<$(this).attr("name").length&&(e=$(this).attr("name").split("_")[1],city_input_id=$(this).attr("id").split("_")[2],void 0!==e&&0<e.length&&city_input_id!=t&&(0<i.length&&(i+=","),i+=e))}),""!=i}function get_widget_code(e){var t="",i="";$(".select-city").each(function(){var e="";0<$(this).attr("name").length&&void 0!==(e=$(this).attr("name").split("_")[1])&&0<e.length&&(0<i.length&&(i+=","),i+=e)}),""==i&&(i=booked.weather.cityid);var o=Math.floor(1e5*Math.random());"1"==e?t+='<div id="m-booked-bl-simple-'+o+'"></div>':"2"==e?t+='<div id="m-booked-custom-widget-'+o+'"></div>':"3"==e?t+='<div id="m-booked-weather-bl250-'+o+'"></div>':"4"==e&&(t+='<div id="m-booked-bl-simple-week-vertical-'+o+'"></div>'),t=(t+='<script type="text/javascript"> \t\tvar css_file=document.createElement("link"); \t\tcss_file.setAttribute("rel","stylesheet"); \t\tcss_file.setAttribute("type","text/css"); \t\tcss_file.setAttribute("href",\'https://s.bookcdn.com/css/weather.css?v=0.0.1\'); \t\tdocument.getElementsByTagName("head")[0].appendChild(css_file); \t\tfunction setWidgetData(data) { \t\t\tif(typeof(data) != \'undefined\' && data.results.length > 0) { \t\t\t\tfor(var i = 0; i < data.results.length; ++i) { \t\t\t\t\tvar objMainBlock = \'\'; \t\t\t\t\tif(data.results[i].widget_type == \'1\') { \t\t\t\t\t\tobjMainBlock = document.getElementById(\'m-booked-bl-simple-'+o+"'); \t\t\t\t\t} \t\t\t\t\telse if(data.results[i].widget_type == '2') { \t\t\t\t\t\tobjMainBlock = document.getElementById('m-booked-custom-widget-"+o+"'); \t\t\t\t\t} \t\t\t\t\telse if(data.results[i].widget_type == '3') { \t\t\t\t\t\tobjMainBlock = document.getElementById('m-booked-weather-bl250-"+o+"'); \t\t\t\t\t} \t\t\t\t\telse if(data.results[i].widget_type == '4') { \t\t\t\t\t\tobjMainBlock = document.getElementById('m-booked-bl-simple-week-vertical-"+o+"'); \t\t\t\t\t} \t\t\t\t\tif(objMainBlock !== null) { \t\t\t\t\t\tvar copyBlock = document.getElementById('m-bookew-weather-copy-'+data.results[i].widget_type); \t\t\t\t\t\tobjMainBlock.innerHTML = data.results[i].html_code; \t\t\t\t\t\tif(copyBlock !== null) \t\t\t\t\t\t\tobjMainBlock.appendChild(copyBlock); \t\t\t\t\t} \t\t\t\t} \t\t\t} \t\t\telse { \t\t\t\talert('data=undefined||data.results is empty'); \t\t\t} \t\t} \t<\/script> \t<script type=\"text/javascript\" charset=\"UTF-8\" src=\"//www.booked.net/?page=get_weather_info&action=get_weather_info&cityID="+i+"&type="+e+"&cmetric="+booked.weather.cmetric+"&wlangID="+booked.weather.wlangid+"&color="+booked.weather.color+"&wwidth="+booked.weather.wwidth+'"><\/script>').replace(/\t/g,""),$("#widget_code_output").val(t),$("#widget_code_output").hasClass("hidden")&&$("#widget_code_output").removeClass("hidden")}function toggleCmetric(e){var t=e,i="1"==t?"0":"1";booked.weather.cmetric=e,$("#days-weather7-"+i).addClass("hidden"),$("#days-weather7-"+t).removeClass("hidden"),$("#booked-bl-simple-"+i).addClass("hidden"),$("#booked-bl-simple-"+t).removeClass("hidden"),$("#booked-bl-simple-week-vertical-"+i).addClass("hidden"),$("#booked-bl-simple-week-vertical-"+t).removeClass("hidden"),$("a.getCode").each(function(){var e=$(this).attr("href");e=(e=e.replace(/&cmetric=[\d]+/g,""))+"&cmetric="+booked.weather.cmetric,$(this).attr("href",e)});var o=$("#more_widgets").attr("href");o=(o=o.replace(/\?cmetric=[\d]+/g,""))+"?cmetric="+booked.weather.cmetric,$("#more_widgets").attr("href",o)}function get_widget_code_new(e){var t="",i="";$(".select-city").each(function(){var e="";0<$(this).attr("name").length&&void 0!==(e=$(this).attr("name").split("_")[1])&&0<e.length&&(0<i.length&&(i+=","),i+=e)}),""==i&&(i=booked.weather.cityid);var o=booked.weather.city_name,s=booked.weather.city_url,a=Math.floor(1e5*Math.random());"1"==e?(t+='<div id="m-booked-bl-simple-'+a+'">',""!=booked.weather.loaded_data_xml?t+=booked.weather.loaded_data_xml:(t+='<div class="weather-160" style="background-color: #'+booked.weather.color+'">',t+='<div class="booked-bl-simple-main"><div class="booked-bl-simple-weather wmed"><div class="booked-bl-simple-degree"><div class="booked-bl-simple-degree-value booked-bl-simple-degree-c">0</div>',t+='<div class="booked-bl-simple-degree-day"><div class="booked-bl-simple-day-d">0&deg;</div>',t+='<div class="booked-bl-simple-night-d">0&deg;</div></div></div><a target="_blank" href="//www.booked.net/weather/'+s+"-"+i+'" class="booked-bl-simple-city">'+o+'</a><div class="booked-bl-simple-date"></div></div>',t+='<div class="booked-bl-simple-see10"><a target="_blank" href="//www.booked.net/weather/'+s+"-"+i+'">'+booked.weather.forecast_url+'</a></div></div></div><div class="bookew-weather-copy" id="bookew-weather-copy-1"><a target="_blank" href="'+booked.weather.copy_site_url+'">&copy; '+booked.weather.copy_site_name+"</a></div>"),t+="</div>"):"2"==e?t+='<div id="m-booked-custom-widget-'+a+'"></div>':"3"==e?t+='<div id="m-booked-weather-bl250-'+a+'"></div>':"4"==e&&(t+='<div id="m-booked-bl-simple-week-vertical-'+a+'"></div>'),t=(t+='<script type="text/javascript"> \t\tvar css_file=document.createElement("link"); \t\tcss_file.setAttribute("rel","stylesheet"); \t\tcss_file.setAttribute("type","text/css"); \t\tcss_file.setAttribute("href",\'https://s.bookcdn.com/css/weather.css?v=0.0.1\'); \t\tdocument.getElementsByTagName("head")[0].appendChild(css_file); \t\tfunction setWidgetData(data) { \t\t\tif(typeof(data) != \'undefined\' && data.results.length > 0) { \t\t\t\tfor(var i = 0; i < data.results.length; ++i) { \t\t\t\t\tvar objMainBlock = \'\'; \t\t\t\t\tif(data.results[i].widget_type == \'1\') { \t\t\t\t\t\tobjMainBlock = document.getElementById(\'m-booked-bl-simple-'+a+"'); \t\t\t\t\t} \t\t\t\t\telse if(data.results[i].widget_type == '2') { \t\t\t\t\t\tobjMainBlock = document.getElementById('m-booked-custom-widget-"+a+"'); \t\t\t\t\t} \t\t\t\t\telse if(data.results[i].widget_type == '3') { \t\t\t\t\t\tobjMainBlock = document.getElementById('m-booked-weather-bl250-"+a+"'); \t\t\t\t\t} \t\t\t\t\telse if(data.results[i].widget_type == '4') { \t\t\t\t\t\tobjMainBlock = document.getElementById('m-booked-bl-simple-week-vertical-"+a+"'); \t\t\t\t\t} \t\t\t\t\tif(objMainBlock !== null) { \t\t\t\t\t\tvar copyBlock = document.getElementById('m-bookew-weather-copy-'+data.results[i].widget_type); \t\t\t\t\t\tobjMainBlock.innerHTML = data.results[i].html_code; \t\t\t\t\t\tif(copyBlock !== null) \t\t\t\t\t\t\tobjMainBlock.appendChild(copyBlock); \t\t\t\t\t} \t\t\t\t} \t\t\t} \t\t\telse { \t\t\t\talert('data=undefined||data.results is empty'); \t\t\t} \t\t} \t<\/script> \t<script type=\"text/javascript\" charset=\"UTF-8\" src=\"//www.booked.net/?page=get_weather_info&action=get_weather_info&cityID="+i+"&type="+e+"&cmetric="+booked.weather.cmetric+"&wlangID="+booked.weather.wlangid+"&color="+booked.weather.color+"&wwidth="+booked.weather.wwidth+'"><\/script>').replace(/\t/g,""),$("#widget_code_output").val(t),$("#widget_code_output").hasClass("hidden")&&$("#widget_code_output").removeClass("hidden")}function get_widget_code_new2(e,t){var i="\x3c!-- weather widget start --\x3e",o="";$(".select-city").each(function(){var e="";0<$(this).attr("name").length&&void 0!==(e=$(this).attr("name").split("_")[1])&&0<e.length&&(0<o.length&&(o+=","),o+=e)}),""==o&&(o=booked.weather.cityid,"weather_widgets"==booked.weather.page&&"2"==e&&("18114"!=booked.weather.cityid?o+=",18114":o+=",18145","18103"!=booked.weather.cityid?o+=",18103":o+=",18145"));booked.weather.city_name,booked.weather.city_url;var s=Math.floor(1e5*Math.random()),a="https://s.bookcdn.com/css/weather.css?v=0.0.1",n="";"1"==e?(i+='<div id="m-booked-bl-simple-'+s+'">',i+=$("#source_type1").val(),i+="</div>",a="https://s.bookcdn.com/css/w/booked-wzs-widget-160.css?v=0.0.1",n="m-booked-bl-simple-"+s):"2"==e||"2_7"==e?(i+='<div id="m-booked-custom-widget-'+s+'">',i+=$("#source_type2").val(),i+="</div>",n="m-booked-custom-widget-"+s):"3"==e?(i+='<div id="m-booked-weather-bl250-'+s+'">',i+=$("#source_type3").val(),i+="</div>",a="https://s.bookcdn.com/css/w/booked-wzs-widget-275.css?v=0.0.1",n="m-booked-weather-bl250-"+s):"4"==e?(i+='<div id="m-booked-bl-simple-week-vertical-'+s+'">',i+=$("#source_type4").val(),i+="</div>",a="https://s.bookcdn.com/css/w/booked-wzs-widget-160x275.css?v=0.0.1",n="m-booked-bl-simple-week-vertical-"+s):"11"==e?(i+='<div id="m-booked-small-t1-'+s+'">',i+=$("#source_type11_0").val(),i+="</div>",a="https://s.bookcdn.com/css/w/bw-120-100.css?v=0.0.1",n="m-booked-small-t1-"+s):"11_1"==e?(i+='<div id="m-booked-small-t1-'+s+'">',i+=$("#source_type11_1").val(),i+="</div>",a="https://s.bookcdn.com/css/w/bw-120-100.css?v=0.0.1",n="m-booked-small-t1-"+s):"11_2"==e?(i+='<div id="m-booked-small-t1-'+s+'">',i+=$("#source_type11_2").val(),i+="</div>",a="https://s.bookcdn.com/css/w/bw-120-100.css?v=0.0.1",n="m-booked-small-t1-"+s):"11_3"==e?(i+='<div id="m-booked-small-t1-'+s+'">',i+=$("#source_type11_3").val(),i+="</div>",a="https://s.bookcdn.com/css/w/bw-120-100.css?v=0.0.1",n="m-booked-small-t1-"+s):"12"==e||"12_5"==e?(i+='<div id="m-booked-small-t2-'+s+'">',i+=$("#source_type12").val(),i+="</div>",a="https://s.bookcdn.com/css/w/bw-120-36.css?v=0.0.1",n="m-booked-small-t2-"+s):"13"==e||"13_6"==e?(i+='<div id="m-booked-small-t3-'+s+'">',i+=$("#source_type13").val(),i+="</div>",a="https://s.bookcdn.com/css/w/bw-160-36.css?v=0.0.1",n="m-booked-small-t3-"+s):"14"==e||"14_4"==e?(i+='<div id="m-booked-small-t4-'+s+'">',i+=$("#source_type14").val(),i+="</div>",a="https://s.bookcdn.com/css/w/bw-120-100s.css?v=0.0.1",n="m-booked-small-t4-"+s):"15"==e?(i+='<div id="m-booked-small-t5-'+s+'">',i+=$("#source_type15").val(),i+="</div>",a="https://s.bookcdn.com/css/w/bw-100-100s.css?v=0.0.1",n="m-booked-small-t5-"+s):"21"==e||"21_21"==e?(i+='<div id="m-booked-lite-t1-'+s+'">',i+=$("#source_type21").val(),i+="</div>",a="https://s.bookcdn.com/css/w/bw-lite.css?v=0.0.1",n="m-booked-lite-t1-"+s):"22"==e||"22_22"==e?(i+='<div id="m-booked-lite_l2-'+s+'">',i+=$("#source_type22").val(),i+="</div>",a="https://s.bookcdn.com/css/w/bw-lite.css?v=0.0.1",n="m-booked-lite-t2-"+s):"23"==e||"23_23"==e?(i+='<div id="m-booked-lite-t3-'+s+'">',i+=$("#source_type23").val(),i+="</div>",a="https://s.bookcdn.com/css/w/bw-lite.css?v=0.0.1",n="m-booked-lite-t3-"+s):"24"==e||"24_24"==e?(i+='<div id="m-booked-lite-t4-'+s+'">',i+=$("#source_type24").val(),i+="</div>",a="https://s.bookcdn.com/css/w/bw-lite.css?v=0.0.1",n="m-booked-lite-t4-"+s):"25"==e||"25_25"==e?(i+='<div id="m-booked-lite-t5-'+s+'">',i+=$("#source_type25").val(),i+="</div>",a="https://s.bookcdn.com/css/w/bw-lite.css?v=0.0.1",n="m-booked-lite-t5-"+s):"26"==e||"26_26"==e?(i+='<div id="m-booked-lite-t6-'+s+'">',i+=$("#source_type26").val(),i+="</div>",a="https://s.bookcdn.com/css/w/bw-lite.css?v=0.0.1",n="m-booked-lite-t6-"+s):"27"==e||"27_27"==e?(i+='<div id="m-booked-lite-t7-'+s+'">',i+=$("#source_type27").val(),i+="</div>",a="https://s.bookcdn.com/css/w/bw-lite.css?v=0.0.1",n="m-booked-lite-t7-"+s):"28"==e||"28_28"==e?(i+='<div id="m-booked-lite-t8-'+s+'">',i+=$("#source_type28").val(),i+="</div>",a="https://s.bookcdn.com/css/w/bw-lite.css?v=0.0.1",n="m-booked-lite-t8-"+s):"29"==e||"29_29"==e?(i+='<div id="m-booked-lite-t9-'+s+'">',i+=$("#source_type29").val(),i+="</div>",a="https://s.bookcdn.com/css/w/bw-lite.css?v=0.0.1",n="m-booked-lite-t9-"+s):"30"==e||"30_30"==e?(i+='<div id="m-booked-lite-t10-'+s+'">',i+=$("#source_type30").val(),i+="</div>",a="https://s.bookcdn.com/css/w/bw-lite.css?v=0.0.1",n="m-booked-lite-t10-"+s):"31"==e||"31_31"==e?(i+='<div id="m-booked-lite-t11-'+s+'">',i+=$("#source_type31").val(),i+="</div>",a="https://s.bookcdn.com/css/w/bw-lite.css?v=0.0.1",n="m-booked-lite-t11-"+s):"32"!=e&&"32_32"!=e||(i+='<div id="m-booked-lite-t12-'+s+'">',i+=$("#source_type32").val(),i+="</div>",a="https://s.bookcdn.com/css/w/bw-lite.css?v=0.0.1",n="m-booked-lite-t12-"+s),i+='<script type="text/javascript"> \t\tvar css_file=document.createElement("link"); \t\tcss_file.setAttribute("rel","stylesheet"); \t\tcss_file.setAttribute("type","text/css"); \t\tcss_file.setAttribute("href",\''+a+"'); \t\tdocument.getElementsByTagName(\"head\")[0].appendChild(css_file); \t\tfunction setWidgetData(data) { \t\t\tif(typeof(data) != 'undefined' && data.results.length > 0) { \t\t\t\tfor(var i = 0; i < data.results.length; ++i) {",i+=" \t\t\t\t\tvar objMainBlock = document.getElementById('"+n+"');",i+=" \t\t\t\t\tif(objMainBlock !== null) { \t\t\t\t\t\tvar copyBlock = document.getElementById('m-bookew-weather-copy-'+data.results[i].widget_type); \t\t\t\t\t\tobjMainBlock.innerHTML = data.results[i].html_code; \t\t\t\t\t\tif(copyBlock !== null) \t\t\t\t\t\t\tobjMainBlock.appendChild(copyBlock); \t\t\t\t\t} \t\t\t\t} \t\t\t} \t\t\telse { \t\t\t\talert('data=undefined||data.results is empty'); \t\t\t} \t\t} \t<\/script> ",i+=""==t?'<script type="text/javascript" charset="UTF-8" src="'+booked.weather.widgets_site_url+"/weather/info?action=get_weather_info&ver=6&cityID="+o+"&type="+e+"&scode="+booked.weather.scode+"&ltid="+booked.weather.ltid+"&domid="+booked.weather.domid+"&anc_id="+booked.weather.anc_id+"&cmetric="+booked.weather.cmetric+"&wlangID="+booked.weather.wlangid+"&color="+booked.weather.color+"&wwidth="+booked.weather.wwidth+"&header_color="+booked.weather.header_color+"&text_color="+booked.weather.text_color+"&link_color="+booked.weather.link_color+"&border_form="+booked.weather.border_form+"&footer_color="+booked.weather.footer_color+"&footer_text_color="+booked.weather.footer_text_color+"&transparent="+booked.weather.transparent+'"><\/script>':'<script type="text/javascript" charset="UTF-8" src="'+t+'"><\/script>',i=(i+="\x3c!-- weather widget end --\x3e").replace(/\t/g,""),$("#widget_code_output").val(i),$("#widget_code_output").hasClass("hidden")&&$("#widget_code_output").removeClass("hidden")}function get_widget_picture_code(e,t,i,o,s){var a="\x3c!-- weather widget start --\x3e",n="";$(".select-city").each(function(){var e="";0<$(this).attr("name").length&&void 0!==(e=$(this).attr("name").split("_")[1])&&0<e.length&&(0<n.length&&(n+=","),n+=e)});var r=!1;""==n&&(n=booked.weather.cityid,"weather_widgets"==booked.weather.page&&"2"==e&&("18114"!=booked.weather.cityid?n+=",18114":n+=",18145","18103"!=booked.weather.cityid?n+=",18103":n+=",18145",r=!0));booked.weather.city_url;var l,d="booked.net",c="https://www.booked.net/";if("2"==booked.weather.wlangid&&(c="https://hotel-mix.de/"),"3"==booked.weather.wlangid&&(c="https://hotelmix.fr/"),"4"==booked.weather.wlangid&&(c="https://hotelmix.es/"),"5"==booked.weather.wlangid&&(c="https://hotelmix.it/"),"6"==booked.weather.wlangid&&(c="https://ibooked.nl/"),"8"==booked.weather.wlangid&&(c="https://ibooked.com.br/"),"9"==booked.weather.wlangid&&(c="https://ibooked.no/"),"11"==booked.weather.wlangid&&(c="https://booked.se/"),"12"==booked.weather.wlangid&&(c="https://ibooked.dk/"),"13"==booked.weather.wlangid&&(c="https://www.booked.cz/"),"14"==booked.weather.wlangid&&(c="https://www.booked.hu/"),"15"==booked.weather.wlangid&&(c="https:/hotelmix.ro/"),"16"==booked.weather.wlangid&&(c="https://booked.jp/"),"17"==booked.weather.wlangid&&(c="https://ibooked.cn/"),"18"==booked.weather.wlangid&&(c="https://booked.com.pl/"),"19"==booked.weather.wlangid&&(c="https://ibooked.gr/"),"20"==booked.weather.wlangid&&(c="https://nochi.com/"),"21"==booked.weather.wlangid&&(c="https://bookeder.com/"),"22"==booked.weather.wlangid&&(c="https://albooked.com/"),"23"==booked.weather.wlangid&&(c="https://hotelmix.bg/"),"24"==booked.weather.wlangid&&(c="https://booked.kr/"),"25"==booked.weather.wlangid&&(c="https://booked.co.il/"),"27"==booked.weather.wlangid&&(c="https://hotelmix.id/"),"29"==booked.weather.wlangid&&(c="https://hotelmix.com.ua/"),"30"==booked.weather.wlangid&&(c="https://hotelmix.co.th/"),"33"==booked.weather.wlangid&&(c="https://hotelmix.vn/"),"34"==booked.weather.wlangid&&(c="https://hotelmix.my/"),"35"==booked.weather.wlangid&&(c="https://hotelmix.th/"),"36"==booked.weather.wlangid&&(c="https://hotelmix.hr/"),a+='<a target="_blank" ',"1"==o&&(a+='rel="nofollow" '),a+='href="'+c+i+'">',""==t){var h=r?"250":booked.weather.wwidth;a+='<img src="https://w.bookcdn.com/weather/picture/'+e+"_"+n+"_"+booked.weather.cmetric+"_"+booked.weather.wlangid+"_"+booked.weather.color+"_"+h+"_"+booked.weather.header_color+"_"+booked.weather.text_color+"_"+booked.weather.link_color+"_"+booked.weather.border_form+"_"+booked.weather.footer_color+"_"+booked.weather.footer_text_color+"_"+booked.weather.transparent+"_6.png?scode="+booked.weather.scode+"&domid="+booked.weather.domid+"&anc_id="+booked.weather.anc_id+'"  alt="'+d+'"/>'}else a+='<img src="'+t+"&anc_id="+booked.weather.anc_id+'" alt="'+d+'"/>';a+="</a>",a=(a+="\x3c!-- weather widget end --\x3e").replace(/\t/g,""),l="1"==s?"#widget_code_output_img":"#widget_code_output",$(l).val(a),$(l).hasClass("hidden")&&$(l).removeClass("hidden")}function changeWeatherLocation(){$(".weather").on("click",".js-change-location",function(){$(this).hide(),$(".js-change-city").show()})}function setCustomize(){$(".weather-page").on("click",".js-get-custom",function(){var e=booked.weather_opts.cityid,t=$(this).attr("id"),i=t.split("_");if(""!=i){var o=i[1],s="0";2<i.length&&(s=i[2]),t=t.replace("getCustom","getCode"),"weather_widgets"===booked.weather.page&&weather_widget_event(t,"-customize");var a="/?page=weather_widget_customize&type="+o+"&cityID="+e+"&cmetric="+booked.weather.cmetric;"0"!=s&&(a+="&gparams="+s),window.location=a}})}!function(r,l){var e,t,i=0,o=/^ui-id-\d+$/;function s(e,t){var i,o,s,a=e.nodeName.toLowerCase();return"area"===a?(o=(i=e.parentNode).name,!(!e.href||!o||"map"!==i.nodeName.toLowerCase())&&(!!(s=r("img[usemap=#"+o+"]")[0])&&n(s))):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a&&e.href||t)&&n(e)}function n(e){return r.expr.filters.visible(e)&&!r(e).parents().addBack().filter(function(){return"hidden"===r.css(this,"visibility")}).length}r.ui=r.ui||{},r.extend(r.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),r.fn.extend({focus:(e=r.fn.focus,function(t,i){return"number"==typeof t?this.each(function(){var e=this;setTimeout(function(){r(e).focus(),i&&i.call(e)},t)}):e.apply(this,arguments)}),scrollParent:function(){var e;return e=r.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(r.css(this,"position"))&&/(auto|scroll)/.test(r.css(this,"overflow")+r.css(this,"overflow-y")+r.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(r.css(this,"overflow")+r.css(this,"overflow-y")+r.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?r(document):e},zIndex:function(e){if(e!==l)return this.css("zIndex",e);if(this.length)for(var t,i,o=r(this[0]);o.length&&o[0]!==document;){if(("absolute"===(t=o.css("position"))||"relative"===t||"fixed"===t)&&(i=parseInt(o.css("zIndex"),10),!isNaN(i)&&0!==i))return i;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++i)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&r(this).removeAttr("id")})}}),r.extend(r.expr[":"],{data:r.expr.createPseudo?r.expr.createPseudo(function(t){return function(e){return!!r.data(e,t)}}):function(e,t,i){return!!r.data(e,i[3])},focusable:function(e){return s(e,!isNaN(r.attr(e,"tabindex")))},tabbable:function(e){var t=r.attr(e,"tabindex"),i=isNaN(t);return(i||0<=t)&&s(e,!i)}}),r("<a>").outerWidth(1).jquery||r.each(["Width","Height"],function(e,i){var s="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:r.fn.innerWidth,innerHeight:r.fn.innerHeight,outerWidth:r.fn.outerWidth,outerHeight:r.fn.outerHeight};function n(e,t,i,o){return r.each(s,function(){t-=parseFloat(r.css(e,"padding"+this))||0,i&&(t-=parseFloat(r.css(e,"border"+this+"Width"))||0),o&&(t-=parseFloat(r.css(e,"margin"+this))||0)}),t}r.fn["inner"+i]=function(e){return e===l?a["inner"+i].call(this):this.each(function(){r(this).css(o,n(this,e)+"px")})},r.fn["outer"+i]=function(e,t){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){r(this).css(o,n(this,e,!0,t)+"px")})}}),r.fn.addBack||(r.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),r("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(r.fn.removeData=(t=r.fn.removeData,function(e){return arguments.length?t.call(this,r.camelCase(e)):t.call(this)})),r.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),r.support.selectstart="onselectstart"in document.createElement("div"),r.fn.extend({disableSelection:function(){return this.bind((r.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),r.extend(r.ui,{plugin:{add:function(e,t,i){var o,s=r.ui[e].prototype;for(o in i)s.plugins[o]=s.plugins[o]||[],s.plugins[o].push([t,i[o]])},call:function(e,t,i){var o,s=e.plugins[t];if(s&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(o=0;o<s.length;o++)e.options[s[o][0]]&&s[o][1].apply(e.element,i)}},hasScroll:function(e,t){if("hidden"===r(e).css("overflow"))return!1;var i,o=t&&"left"===t?"scrollLeft":"scrollTop";return 0<e[o]||(e[o]=1,i=0<e[o],e[o]=0,i)}})}(jQuery),function(a,e){var n,r,l,d,c="ui-button ui-widget ui-state-default ui-corner-all",h="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",u=function(){var e=a(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},m=function(e){var t=e.name,i=e.form,o=a([]);return t&&(t=t.replace(/'/g,"\\'"),o=i?a(i).find("[name='"+t+"']"):a("[name='"+t+"']",e.ownerDocument).filter(function(){return!this.form})),o};a.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,u),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,i=this.options,e="checkbox"===this.type||"radio"===this.type,o=e?"":"ui-state-active",s="ui-state-focus";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(c).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===n&&a(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||a(this).removeClass(o)}).bind("click"+this.eventNamespace,function(e){i.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){t.buttonElement.addClass(s)}).bind("blur"+this.eventNamespace,function(){t.buttonElement.removeClass(s)}),e&&(this.element.bind("change"+this.eventNamespace,function(){d||t.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){i.disabled||(d=!1,r=e.pageX,l=e.pageY)}).bind("mouseup"+this.eventNamespace,function(e){i.disabled||r===e.pageX&&l===e.pageY||(d=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled||d)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled||d)return!1;a(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var e=t.element[0];m(e).not(e).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(i.disabled)return!1;a(this).addClass("ui-state-active"),n=this,t.document.one("mouseup",function(){n=null})}).bind("mouseup"+this.eventNamespace,function(){if(i.disabled)return!1;a(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){if(i.disabled)return!1;e.keyCode!==a.ui.keyCode.SPACE&&e.keyCode!==a.ui.keyCode.ENTER||a(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),(i=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(c+" ui-state-hover ui-state-active  "+h).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){this._super(e,t),"disabled"!==e?this._resetButton():t?this.element.prop("disabled",!0):this.element.prop("disabled",!1)},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?m(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var e=this.buttonElement.removeClass(h),t=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),i=this.options.icons,o=i.primary&&i.secondary,s=[];i.primary||i.secondary?(this.options.text&&s.push("ui-button-text-icon"+(o?"s":i.primary?"-primary":"-secondary")),i.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(s.push(o?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",a.trim(t)))):s.push("ui-button-text-only"),e.addClass(s.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),a.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var e="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(l,e){l.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,l.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(e){var t=l(e.target).closest(".ui-menu-item");!this.mouseHandled&&t.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(e),t.has(".ui-menu").length?this.expand(e):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var t=l(e.currentTarget);t.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,t)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,i)},blur:function(e){this._delay(function(){l.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){l(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=l(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){var t,i,o,s,a,n=!0;function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}switch(e.keyCode){case l.ui.keyCode.PAGE_UP:this.previousPage(e);break;case l.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case l.ui.keyCode.HOME:this._move("first","first",e);break;case l.ui.keyCode.END:this._move("last","last",e);break;case l.ui.keyCode.UP:this.previous(e);break;case l.ui.keyCode.DOWN:this.next(e);break;case l.ui.keyCode.LEFT:this.collapse(e);break;case l.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case l.ui.keyCode.ENTER:case l.ui.keyCode.SPACE:this._activate(e);break;case l.ui.keyCode.ESCAPE:this.collapse(e);break;default:n=!1,i=this.previousFilter||"",o=String.fromCharCode(e.keyCode),s=!1,clearTimeout(this.filterTimer),o===i?s=!0:o=i+o,a=new RegExp("^"+r(o),"i"),t=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(l(this).children("a").text())}),(t=s&&-1!==t.index(this.active.next())?this.active.nextAll(".ui-menu-item"):t).length||(o=String.fromCharCode(e.keyCode),a=new RegExp("^"+r(o),"i"),t=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(l(this).children("a").text())})),t.length?(this.focus(e,t),1<t.length?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}n&&e.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var e,o=this.options.icons.submenu,t=this.element.find(this.options.menus);t.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=l(this),t=e.prev("a"),i=l("<span>").addClass("ui-menu-icon ui-icon "+o).data("ui-menu-submenu-carat",!0);t.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",t.attr("id"))}),(e=t.add(this.element)).children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=l(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!l.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),this._super(e,t)},focus:function(e,t){var i,o;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),o=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",o.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=t.children(".ui-menu")).length&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(e){var t,i,o,s,a,n;this._hasScroll()&&(t=parseFloat(l.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(l.css(this.activeMenu[0],"paddingTop"))||0,o=e.offset().top-this.activeMenu.offset().top-t-i,s=this.activeMenu.scrollTop(),a=this.activeMenu.height(),n=e.height(),o<0?this.activeMenu.scrollTop(s+o):a<o+n&&this.activeMenu.scrollTop(s+o-a+n))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(e){var t=l.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(t)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var e=i?this.element:l(t&&t.target).closest(this.element.find(".ui-menu"));e.length||(e=this.element),this._close(e),this.blur(t),this.activeMenu=e},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var o;this.active&&(o="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),o&&o.length&&this.active||(o=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(i,o)},nextPage:function(e){var t,i,o;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(t=l(this)).offset().top-i-o<0}),this.focus(e,t)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var t,i,o;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return 0<(t=l(this)).offset().top-i+o}),this.focus(e,t)):this.focus(e,this.activeMenu.children(".ui-menu-item").first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||l(e.target).closest(".ui-menu-item");var t={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,t)}})}(jQuery),function(n,e){var o=0;n.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var i,o,s,e=this.element[0].nodeName.toLowerCase(),t="textarea"===e,a="input"===e;this.isMultiLine=!!t||!a&&this.element.prop("isContentEditable"),this.valueMethod=this.element[t||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))o=s=i=!0;else{o=s=i=!1;var t=n.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:i=!0,this._move("previousPage",e);break;case t.PAGE_DOWN:i=!0,this._move("nextPage",e);break;case t.UP:i=!0,this._keyEvent("previous",e);break;case t.DOWN:i=!0,this._keyEvent("next",e);break;case t.ENTER:case t.NUMPAD_ENTER:this.menu.active&&(i=!0,e.preventDefault(),this.menu.select(e));break;case t.TAB:this.menu.active&&this.menu.select(e);break;case t.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(e),e.preventDefault());break;default:o=!0,this._searchTimeout(e)}}},keypress:function(e){if(i)return i=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||e.preventDefault());if(!o){var t=n.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:this._move("previousPage",e);break;case t.PAGE_DOWN:this._move("nextPage",e);break;case t.UP:this._keyEvent("previous",e);break;case t.DOWN:this._keyEvent("next",e)}}},input:function(e){if(s)return s=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=n("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];n(e.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(e){e.target===t.element[0]||e.target===i||n.contains(i,e.target)||t.close()})})},menufocus:function(e,t){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){n(e.target).trigger(e.originalEvent)});var i=t.item.data("ui-autocomplete-item");!1!==this._trigger("focus",e,{item:i})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(i.value):this.liveRegion.text(i.value)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),o=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=o,this._delay(function(){this.previous=o,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=n("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?n(e):this.document.find(e).eq(0)),e||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var i,o,s=this;n.isArray(this.options.source)?(i=this.options.source,this.source=function(e,t){t(n.ui.autocomplete.filter(i,e.term))}):"string"==typeof this.options.source?(o=this.options.source,this.source=function(e,t){s.xhr&&s.xhr.abort(),s.xhr=n.ajax({url:o,data:e,dataType:"json",success:function(e){t(e)},error:function(){t([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=this,i=++o;return function(e){i===o&&t.__response(e),t.pending--,t.pending||t.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:n.map(e,function(e){return"string"==typeof e?{label:e,value:e}:n.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var t=this.menu.element.empty();this._renderMenu(t,e),this.isNewMenu=!0,this.menu.refresh(),t.show(),this._resizeMenu(),t.position(n.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(i,e){var o=this;n.each(e,function(e,t){o._renderItemData(i,t)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(e,t){return n("<li>").append(n("<a>").text(t.label)).appendTo(e)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),n.extend(n.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,t){var i=new RegExp(n.ui.autocomplete.escapeRegex(t),"i");return n.grep(e,function(e){return i.test(e.label||e.value||e)})}}),n.widget("ui.autocomplete",n.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(1<e?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(n,e){var a={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},r={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};n.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var t=n(this).css(e).offset().top;t<0&&n(this).css("top",e.top-t)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&n.fn.draggable&&this._makeDraggable(),this.options.resizable&&n.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?n(e):this.document.find(e||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:n.noop,enable:n.noop,close:function(e){var t=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||n(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){t._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!t&&this._trigger("focus",e),i},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=n(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._trigger("open"))},_focusTabbable:function(){var e=this.element.find("[autofocus]");e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(e){function t(){var e=this.document[0].activeElement;this.uiDialog[0]===e||n.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),t.call(this),this._delay(t)},_createWrapper:function(){this.uiDialog=n("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===n.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===n.ui.keyCode.TAB){var t=this.uiDialog.find(":tabbable"),i=t.filter(":first"),o=t.filter(":last");e.target!==o[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(o.focus(1),e.preventDefault()):(i.focus(1),e.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=n("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){n(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=n("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),e=n("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=n("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=n("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var s=this,e=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),n.isEmptyObject(e)||n.isArray(e)&&!e.length?this.uiDialog.removeClass("ui-dialog-buttons"):(n.each(e,function(e,t){var i,o;t=n.isFunction(t)?{click:t,text:e}:t,t=n.extend({type:"button"},t),i=t.click,t.click=function(){i.apply(s.element[0],arguments)},o={icons:t.icons,text:t.showText},delete t.icons,delete t.showText,n("<button></button>",t).button(o).appendTo(s.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var i=this,o=this.options;function s(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,t){n(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",e,s(t))},drag:function(e,t){i._trigger("drag",e,s(t))},stop:function(e,t){o.position=[t.position.left-i.document.scrollLeft(),t.position.top-i.document.scrollTop()],n(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",e,s(t))}})},_makeResizable:function(){var i=this,o=this.options,e=o.resizable,t=this.uiDialog.css("position"),s="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";function a(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:o.maxWidth,maxHeight:o.maxHeight,minWidth:o.minWidth,minHeight:this._minHeight(),handles:s,start:function(e,t){n(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",e,a(t))},resize:function(e,t){i._trigger("resize",e,a(t))},stop:function(e,t){o.height=n(this).height(),o.width=n(this).width(),n(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",e,a(t))}}).css("position",t)},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(e){var i=this,o=!1,s={};n.each(e,function(e,t){i._setOption(e,t),e in a&&(o=!0),e in r&&(s[e]=t)}),o&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(e,t){var i,o,s=this.uiDialog;"dialogClass"===e&&s.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&((i=s.is(":data(ui-draggable)"))&&!t&&s.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((o=s.is(":data(ui-resizable)"))&&!t&&s.resizable("destroy"),o&&"string"==typeof t&&s.resizable("option","handles",t),o||!1===t||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,o=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),o.minWidth>o.width&&(o.width=o.minWidth),e=this.uiDialog.css({height:"auto",width:o.width}).outerHeight(),t=Math.max(0,o.minHeight-e),i="number"==typeof o.maxHeight?Math.max(0,o.maxHeight-e):"none","auto"===o.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,o.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=n(this);return n("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!n(e.target).closest(".ui-dialog").length||!!n(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=this,i=this.widgetFullName;n.ui.dialog.overlayInstances||this._delay(function(){n.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(e){t._allowInteraction(e)||(e.preventDefault(),n(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=n("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),n.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(n.ui.dialog.overlayInstances--,n.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),n.ui.dialog.overlayInstances=0,!1!==n.uiBackCompat&&n.widget("ui.dialog",n.ui.dialog,{_position:function(){var e,t=this.options.position,i=[],o=[0,0];t?(("string"==typeof t||"object"==typeof t&&"0"in t)&&(1===(i=t.split?t.split(" "):[t[0],t[1]]).length&&(i[1]=i[0]),n.each(["left","top"],function(e,t){+i[e]===i[e]&&(o[e]=i[e],i[e]=t)}),t={my:i[0]+(o[0]<0?o[0]:"+"+o[0])+" "+i[1]+(o[1]<0?o[1]:"+"+o[1]),at:i.join(" ")}),t=n.extend({},n.ui.dialog.prototype.options.position,t)):t=n.ui.dialog.prototype.options.position,(e=this.uiDialog.is(":visible"))||this.uiDialog.show(),this.uiDialog.position(t),e||this.uiDialog.hide()}})}(jQuery),function(s,e){var a=!1;s(document).mouseup(function(){a=!1}),s.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(e){if(!0===s.data(e.target,t.widgetName+".preventClickEvent"))return s.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&s(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!a){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var t=this,i=1===e.which,o=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&s(e.target).closest(this.options.cancel).length;return!(i&&!o&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===s.data(e.target,this.widgetName+".preventClickEvent")&&s.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},s(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),a=!0))}},_mouseMove:function(e){return s.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return s(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&s.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(c,e){c.widget("ui.slider",c.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,t,i=this.options,o=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s=[];for(t=i.values&&i.values.length||1,o.length>t&&(o.slice(t).remove(),o=o.slice(0,t)),e=o.length;e<t;e++)s.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");this.handles=o.add(c(s.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){c(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,t="";e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:c.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=c("<div></div>").appendTo(this.element),t="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(t+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):this.range=c([])},_setupEvents:function(){var e=this.handles.add(this.range).filter("a");this._off(e),this._on(e,this._handleEvents),this._hoverable(e),this._focusable(e)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var t,i,o,s,a,n,r,l=this,d=this.options;return!d.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t),o=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var t=Math.abs(i-l.values(e));(t<o||o===t&&(e===l._lastChangedValue||l.values(e)===d.min))&&(o=t,s=c(this),a=e)}),!1!==this._start(e,a)&&(this._mouseSliding=!0,this._handleIndex=a,s.addClass("ui-state-active").focus(),n=s.offset(),r=!c(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=r?{left:0,top:0}:{left:e.pageX-n.left-s.width()/2,top:e.pageY-n.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,i),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,o,s,a;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),1<(o=i/t)&&(o=1),o<0&&(o=0),"vertical"===this.orientation&&(o=1-o),s=this._valueMax()-this._valueMin(),a=this._valueMin()+o*s,this._trimAlignValue(a)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var o,s,a;this.options.values&&this.options.values.length?(o=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&o<i||1===t&&i<o)&&(i=o),i!==this.values(t)&&((s=this.values())[t]=i,a=this._trigger("slide",e,{handle:this.handles[t],value:i,values:s}),o=this.values(t?0:1),!1!==a&&this.values(t,i,!0))):i!==this.value()&&!1!==(a=this._trigger("slide",e,{handle:this.handles[t],value:i}))&&this.value(i)},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,t){var i,o,s;if(1<arguments.length)return this.options.values[e]=this._trimAlignValue(t),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!c.isArray(e))return this.options.values&&this.options.values.length?this._values(e):this.value();for(i=this.options.values,o=e,s=0;s<i.length;s+=1)i[s]=this._trimAlignValue(o[s]),this._change(null,s);this._refreshValue()},_setOption:function(e,t){var i,o=0;switch("range"===e&&!0===this.options.range&&("min"===t?(this.options.value=this._values(0),this.options.values=null):"max"===t&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),c.isArray(this.options.values)&&(o=this.options.values.length),c.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;i<o;i+=1)this._change(null,i);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,o;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(i[o]);return i}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=0<this.options.step?this.options.step:1,i=(e-this._valueMin())%t,o=e-i;return 2*Math.abs(i)>=t&&(o+=0<i?t:-t),parseFloat(o.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,e,o,s,a=this.options.range,n=this.options,r=this,l=!this._animateOff&&n.animate,d={};this.options.values&&this.options.values.length?this.handles.each(function(e){i=(r.values(e)-r._valueMin())/(r._valueMax()-r._valueMin())*100,d["horizontal"===r.orientation?"left":"bottom"]=i+"%",c(this).stop(1,1)[l?"animate":"css"](d,n.animate),!0===r.options.range&&("horizontal"===r.orientation?(0===e&&r.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},n.animate),1===e&&r.range[l?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:n.animate})):(0===e&&r.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},n.animate),1===e&&r.range[l?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:n.animate}))),t=i}):(e=this.value(),o=this._valueMin(),s=this._valueMax(),i=s!==o?(e-o)/(s-o)*100:0,d["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](d,n.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},n.animate),"max"===a&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:n.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},n.animate),"max"===a&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:n.animate}))},_handleEvents:{keydown:function(e){var t,i,o,s=c(e.target).data("ui-slider-handle-index");switch(e.keyCode){case c.ui.keyCode.HOME:case c.ui.keyCode.END:case c.ui.keyCode.PAGE_UP:case c.ui.keyCode.PAGE_DOWN:case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,c(e.target).addClass("ui-state-active"),!1===this._start(e,s)))return}switch(o=this.options.step,t=i=this.options.values&&this.options.values.length?this.values(s):this.value(),e.keyCode){case c.ui.keyCode.HOME:i=this._valueMin();break;case c.ui.keyCode.END:i=this._valueMax();break;case c.ui.keyCode.PAGE_UP:i=this._trimAlignValue(t+(this._valueMax()-this._valueMin())/5);break;case c.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(t-(this._valueMax()-this._valueMin())/5);break;case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:if(t===this._valueMax())return;i=this._trimAlignValue(t+o);break;case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:if(t===this._valueMin())return;i=this._trimAlignValue(t-o)}this._slide(e,s,i)},click:function(e){e.preventDefault()},keyup:function(e){var t=c(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,t),this._change(e,t),c(e.target).removeClass("ui-state-active"))}}})}(jQuery),function(n){var i,e,s,a,r,l,d,c,h,u,m,p,g,v,o,b,f,_,w,k,y,x,C,$,D,M,E,t,T,I,z,A,N,S,B,O,P,j=(e={eventName:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:"ff0000",livePreview:!0,flat:!(i=65)},s=function(e,t){var i=B(e);n(t).data("colorpicker").fields.eq(1).val(i.r).end().eq(2).val(i.g).end().eq(3).val(i.b).end()},a=function(e,t){n(t).data("colorpicker").fields.eq(4).val(e.h).end().eq(5).val(e.s).end().eq(6).val(e.b).end()},r=function(e,t){n(t).data("colorpicker").fields.eq(0).val(O(e)).end()},l=function(e,t){n(t).data("colorpicker").selector.css("backgroundColor","#"+O({h:e.h,s:100,b:100})),n(t).data("colorpicker").selectorIndic.css({left:parseInt(150*e.s/100,10),top:parseInt(150*(100-e.b)/100,10)})},d=function(e,t){n(t).data("colorpicker").hue.css("top",parseInt(150-150*e.h/360,10))},c=function(e,t){n(t).data("colorpicker").currentColor.css("backgroundColor","#"+O(e))},h=function(e,t){n(t).data("colorpicker").newColor.css("backgroundColor","#"+O(e))},u=function(e){var t=e.charCode||e.keyCode||-1;if(i<t&&t<=90||32==t)return!1;!0===n(this).parent().parent().data("colorpicker").livePreview&&m.apply(this)},m=function(e){var t,i=n(this).parent().parent();0<this.parentNode.className.indexOf("_hex")?i.data("colorpicker").color=t=N(A(this.value)):0<this.parentNode.className.indexOf("_hsb")?i.data("colorpicker").color=t=I({h:parseInt(i.data("colorpicker").fields.eq(4).val(),10),s:parseInt(i.data("colorpicker").fields.eq(5).val(),10),b:parseInt(i.data("colorpicker").fields.eq(6).val(),10)}):i.data("colorpicker").color=t=S(z({r:parseInt(i.data("colorpicker").fields.eq(1).val(),10),g:parseInt(i.data("colorpicker").fields.eq(2).val(),10),b:parseInt(i.data("colorpicker").fields.eq(3).val(),10)})),e&&(s(t,i.get(0)),r(t,i.get(0)),a(t,i.get(0))),l(t,i.get(0)),d(t,i.get(0)),h(t,i.get(0)),i.data("colorpicker").onChange.apply(i,[t,O(t),B(t),i.data("colorpicker").el])},p=function(e){n(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus")},g=function(){i=0<this.parentNode.className.indexOf("_hex")?70:65,n(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus"),n(this).parent().addClass("colorpicker_focus")},v=function(e){var t=n(this).parent().find("input").focus(),i={el:n(this).parent().addClass("colorpicker_slider"),max:0<this.parentNode.className.indexOf("_hsb_h")?360:0<this.parentNode.className.indexOf("_hsb")?100:255,y:e.pageY,field:t,val:parseInt(t.val(),10),preview:n(this).parent().parent().data("colorpicker").livePreview};n(document).bind("mouseup",i,b),n(document).bind("mousemove",i,o)},o=function(e){return e.data.field.val(Math.max(0,Math.min(e.data.max,parseInt(e.data.val+e.pageY-e.data.y,10)))),e.data.preview&&m.apply(e.data.field.get(0),[!0]),!1},b=function(e){return m.apply(e.data.field.get(0),[!0]),e.data.el.removeClass("colorpicker_slider").find("input").focus(),n(document).unbind("mouseup",b),n(document).unbind("mousemove",o),!1},f=function(e){var t={cal:n(this).parent(),y:n(this).offset().top};t.preview=t.cal.data("colorpicker").livePreview,n(document).bind("mouseup",t,w),n(document).bind("mousemove",t,_)},_=function(e){return m.apply(e.data.cal.data("colorpicker").fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,e.pageY-e.data.y)))/150,10)).get(0),[e.data.preview]),!1},w=function(e){return s(e.data.cal.data("colorpicker").color,e.data.cal.get(0)),r(e.data.cal.data("colorpicker").color,e.data.cal.get(0)),n(document).unbind("mouseup",w),n(document).unbind("mousemove",_),!1},k=function(e){var t={cal:n(this).parent(),pos:n(this).offset()};t.preview=t.cal.data("colorpicker").livePreview,n(document).bind("mouseup",t,x),n(document).bind("mousemove",t,y)},y=function(e){return m.apply(e.data.cal.data("colorpicker").fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,e.pageY-e.data.pos.top)))/150,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(150,e.pageX-e.data.pos.left))/150,10)).get(0),[e.data.preview]),!1},x=function(e){return s(e.data.cal.data("colorpicker").color,e.data.cal.get(0)),r(e.data.cal.data("colorpicker").color,e.data.cal.get(0)),n(document).unbind("mouseup",x),n(document).unbind("mousemove",y),!1},C=function(e){n(this).addClass("colorpicker_focus")},$=function(e){n(this).removeClass("colorpicker_focus")},D=function(e){var t=n(this).parent(),i=t.data("colorpicker").color;t.data("colorpicker").origColor=i,c(i,t.get(0)),t.data("colorpicker").onSubmit(i,O(i),B(i),t.data("colorpicker").el)},M=function(e){var t=n("#"+n(this).data("colorpickerId"));t.data("colorpicker").onBeforeShow.apply(this,[t.get(0)]);var i=n(this).offset(),o=T(),s=i.top+this.offsetHeight,a=i.left;return s+176>o.t+o.h&&(s-=this.offsetHeight+176),a+356>o.l+o.w&&(a-=356),t.css({left:a+"px",top:s+"px"}),0!=t.data("colorpicker").onShow.apply(this,[t.get(0)])&&t.show(),n(document).bind("mousedown",{cal:t},E),!1},E=function(e){t(e.data.cal.get(0),e.target,e.data.cal.get(0))||(0!=e.data.cal.data("colorpicker").onHide.apply(this,[e.data.cal.get(0)])&&e.data.cal.hide(),n(document).unbind("mousedown",E))},t=function(e,t,i){if(e==t)return!0;if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return!!(16&e.compareDocumentPosition(t));for(var o=t.parentNode;o&&o!=i;){if(o==e)return!0;o=o.parentNode}return!1},T=function(){var e="CSS1Compat"==document.compatMode;return{l:window.pageXOffset||(e?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(e?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(e?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(e?document.documentElement.clientHeight:document.body.clientHeight)}},I=function(e){return{h:Math.min(360,Math.max(0,e.h)),s:Math.min(100,Math.max(0,e.s)),b:Math.min(100,Math.max(0,e.b))}},z=function(e){return{r:Math.min(255,Math.max(0,e.r)),g:Math.min(255,Math.max(0,e.g)),b:Math.min(255,Math.max(0,e.b))}},A=function(e){var t=6-e.length;if(0<t){for(var i=[],o=0;o<t;o++)i.push("0");i.push(e),e=i.join("")}return e},N=function(e){return S((t=e,{r:(t=parseInt(-1<t.indexOf("#")?t.substring(1):t,16))>>16,g:(65280&t)>>8,b:255&t}));var t},S=function(e){var t={h:0,s:0,b:0},i=Math.min(e.r,e.g,e.b),o=Math.max(e.r,e.g,e.b),s=o-i;return t.b=o,t.s=0!=o?255*s/o:0,0!=t.s?e.r==o?t.h=(e.g-e.b)/s:e.g==o?t.h=2+(e.b-e.r)/s:t.h=4+(e.r-e.g)/s:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t},B=function(e){var t={},i=Math.round(e.h),o=Math.round(255*e.s/100),s=Math.round(255*e.b/100);if(0==o)t.r=t.g=t.b=s;else{var a=s,n=(255-o)*s/255,r=i%60*(a-n)/60;360==i&&(i=0),i<60?(t.r=a,t.b=n,t.g=n+r):i<120?(t.g=a,t.b=n,t.r=a-r):i<180?(t.g=a,t.r=n,t.b=n+r):i<240?(t.b=a,t.r=n,t.g=a-r):i<300?(t.b=a,t.g=n,t.r=n+r):i<360?(t.r=a,t.g=n,t.b=a-r):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}},O=function(e){return t=B(e),i=[t.r.toString(16),t.g.toString(16),t.b.toString(16)],n.each(i,function(e,t){1==t.length&&(i[e]="0"+t)}),i.join("");var t,i},P=function(){var e=n(this).parent(),t=e.data("colorpicker").origColor;e.data("colorpicker").color=t,s(t,e.get(0)),r(t,e.get(0)),a(t,e.get(0)),l(t,e.get(0)),d(t,e.get(0)),h(t,e.get(0))},{init:function(o){if("string"==typeof(o=n.extend({},e,o||{})).color)o.color=N(o.color);else if(null!=o.color.r&&null!=o.color.g&&null!=o.color.b)o.color=S(o.color);else{if(null==o.color.h||null==o.color.s||null==o.color.b)return this;o.color=I(o.color)}return this.each(function(){if(!n(this).data("colorpickerId")){var e=n.extend({},o);e.origColor=o.color;var t="collorpicker_"+parseInt(1e3*Math.random());n(this).data("colorpickerId",t);var i=n('<div class="colorpicker"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_submit"></div></div>').attr("id",t);e.flat?i.appendTo(this).show():i.appendTo(document.body),e.fields=i.find("input").bind("keyup",u).bind("change",m).bind("blur",p).bind("focus",g),i.find("span").bind("mousedown",v).end().find(">div.colorpicker_current_color").bind("click",P),e.selector=i.find("div.colorpicker_color").bind("mousedown",k),e.selectorIndic=e.selector.find("div div"),e.el=this,e.hue=i.find("div.colorpicker_hue div"),i.find("div.colorpicker_hue").bind("mousedown",f),e.newColor=i.find("div.colorpicker_new_color"),e.currentColor=i.find("div.colorpicker_current_color"),i.data("colorpicker",e),i.find("div.colorpicker_submit").bind("mouseenter",C).bind("mouseleave",$).bind("click",D),s(e.color,i.get(0)),a(e.color,i.get(0)),r(e.color,i.get(0)),d(e.color,i.get(0)),l(e.color,i.get(0)),c(e.color,i.get(0)),h(e.color,i.get(0)),e.flat?i.css({position:"relative",display:"block"}):n(this).bind(e.eventName,M)}})},showPicker:function(){return this.each(function(){n(this).data("colorpickerId")&&M.apply(this)})},hidePicker:function(){return this.each(function(){n(this).data("colorpickerId")&&n("#"+n(this).data("colorpickerId")).hide()})},setColor:function(t){if("string"==typeof t)t=N(t);else if(null!=t.r&&null!=t.g&&null!=t.b)t=S(t);else{if(null==t.h||null==t.s||null==t.b)return this;t=I(t)}return this.each(function(){if(n(this).data("colorpickerId")){var e=n("#"+n(this).data("colorpickerId"));e.data("colorpicker").color=t,e.data("colorpicker").origColor=t,s(t,e.get(0)),a(t,e.get(0)),r(t,e.get(0)),d(t,e.get(0)),l(t,e.get(0)),c(t,e.get(0)),h(t,e.get(0))}})}});n.fn.extend({ColorPicker:j.init,ColorPickerHide:j.hidePicker,ColorPickerShow:j.showPicker,ColorPickerSetColor:j.setColor})}(jQuery);